alias msg {
  if (!$isid) && ($remove($2-,$chr(32)) != $null) {
    !.msg $$1-
    if ($show) {
      if ($1 ischan) || ($query($1)) || (=* iswm $1) {
        if ($1 ischan) {
          echo -ti12c own $1 14[ $+ $cmod($1,$me) $+ 15 $+ $me $+ 14]:15 $2-
        }
        else {
          echo -ti12c own $1 14[15 $+ $me $+ 14]:15 $2-
        }
      }
      else {
        echo $actcid(ti12c) normal â€”â€º 14* $+ $1 $+ 14*15 $2-
      }
    }
  }
}
alias amsg {
  var %t = $$1-
  if (!$isid) && ($remove(%t,$chr(32)) != $null) {
    !.amsg %t
    if ($show) {
      if ($chan(0)) {
        var %c = $v1
        while (%c) {
          tokenize 32 $chan(%c) %t
          echo -ti12c own $1 14[ $+ $cmod($1,$me) $+ 15 $+ $me $+ 14]:15 $2-
          dec %c
        }
      }
    }
  }
}
alias describe {
  if (!$isid) {
    !.describe $1-
    if (!$show) { return }
    if ($1 ischan) || ($query($1)) || (=* iswm $1) {
      if ($1 ischan) {
        echo -ti12c action $1 14: $cmod($1,$me) $+ $me $2-
      }
      else {
        echo -ti12c action $1 14: $me $2-
      }
    }
    else {
      echo $actcid(ti12c) action â€”â€º 14: $me $2-
    }
  }
}
alias ame {
  var %t = $$1-
  if (!$isid) && ($remove(%t,$chr(32)) != $null) {
    !.ame %t
    if ($show) {
      if ($chan(0)) {
        var %c = $v1
        while (%c) {
          tokenize 32 $chan(%c) %t
          echo -ti12c action $1 14: $cmod($1,$me) $+ $me $2-
          dec %c
        }
      }
    }
  }
}
alias notice {
  if (!$isid) {
    .!notice $1-
    if (!$show) { return }
    echo $actcid(ti12c) notice â€”â€º 14- $+ $1 $+ 14-15 $2-
  }
}
alias dns {
  if (!$isid) {
    if ($1) {
      !.dns $1-
      if ($show) {
        var %h = $1,%f
        if ($istok(-h -c,$1,32)) { var %f = $1,%h = $2 }
        if (%f != -h) && (. !isin %h) && ($address(%h,5)) { %h = $gettok($v1,2,64) }
        echo -ati12c info 14-â€º 14DNS:14 resolving %h $+ ...
      }
    }
  }
}
alias ctcp {
  if (!$isid) {
    !.ctcp $1-
    if ($2 == PING) { set -u100 $+(%,pingticks.,$cid,.,$1) $nnticks }
    if ($show) && ($2 != DCC) {
      echo $actcid(ti12c) ctcp â€”â€º 14? $+ $1 $+ 14? $2 $3-
    }
  }
}
alias ctcpreply {
  if (!$isid) {
    !.ctcpreply $1-
    if ($show) {
      echo $actcid(ti12c) ctcp â€”â€º 14! $+ $1 $+ 14! $2 $3-
    }
  }
}
on ^&*:notify:{
  haltdef
  echo $actcid(ti12c) info 14-â€º 03Notify: $thmbr($nick) is now online!
}
on ^&*:unotify:{
  haltdef
  echo $actcid(ti12c) info 14-â€º 04UnNotify: $thmbr($nick) is now offline!
}
alias thmecho {
  if ($1 == -s) { var %e = -sti12c info }
  elseif ($1 == -a) { var %e = $actcid(ti12c info) }
  else { var %e = -ti12c info $1 }
  echo %e 14-â€º 14Info:0 $2-
}
alias thmerror {
  if ($1 == -s) { var %e = -sti12c info }
  elseif ($1 == -a) { var %e = $actcid(ti12c info) }
  else { var %e = -ti12c info $1 }
  echo %e 14-â€º 04Error:04 $2-
}
alias thmls {
  if ($1 == -s) { var %e = -sti12c info }
  elseif ($1 == -a) {
    if (@* iswm $active) || ($cid != $activecid) { var %e = -sti12c info }
    else { var %e = -ati12c info }
  }
  else { var %e = -ti12c info $1 }
  echo %e 14â€¢â€¢ 14â€¢â€¢15â€º 14â€¢â€¢15â€ºâ€º 14â€¢â€¢15â€ºâ€ºâ€º 14â€¢â€¢15â€ºâ€ºâ€ºâ€º
}
alias thmhl {
  if ($1- != $null) {
    return 14( $+ $1- $+ 14)
  }
}
alias thmbr {
  if ($1- != $null) {
    return 14( $+ $1- $+ 14)
  }
}
on &^*:join:#:{
  haltdef
  playmircsound join
  if ($chan !ischan) { return }
  if ($nick != $me) {
    var %e = $thmev($chan)
    if (%e isnum 0-1) { %e = -ti12c join $chan }
    elseif (%e == 2) { %e = -sti12c join }
    elseif (%e == 3) { goto skip }
    echo %e 14-â€º 03Join: $thmbr($nick) $thmbr($address)
    :skip
    if (%qryevent) && ($query($nick)) && (j isin %qrytypes) {
      echo -ti12c join $nick 14-â€º 03Join: $thmbr($+($nick,:,$chan)) $thmbr($address)
    }
  }
  else { set -u100 %joinprog. [ $+ [ $chan ] $+ ] . [ $+ [ $cid ] ] $nnticks }
}
on &!^*:part:#:{
  haltdef
  playmircsound part
  if ($chan !ischan) { return }
  var %e = $thmev($chan)
  if (%e isnum 0-1) { %e = -ti12c part $chan }
  elseif (%e == 2) { %e = -sti12c part }
  elseif (%e == 3) { goto skip }
  echo %e 14-â€º 04Part: $thmbr($nick) $thmbr($address) $thmbr($1-)
  :skip
  if (%qryevent) && ($query($nick)) && (p isin %qrytypes) {
    echo -ti12c part $nick 14-â€º 04Part: $thmbr($+($nick,:,$chan)) $thmbr($address) $thmbr($1-)
  }
}
on &^*:kick:#:{
  haltdef
  playmircsound kick
  if ($chan !ischan) { return }
  if ($knick == $me) {
    echo -sti12c kick 14-â€º 04Kick: $thmbr($me) was kicked by $thmbr($nick) $thmbr($1-)
  }
  var %e = $thmev($chan)
  if (%e isnum 0-1) { %e = -ti12c kick $chan }
  elseif (%e == 2) { %e = -sti12c kick }
  elseif (%e == 3) { goto skip }
  echo %e 14-â€º 04Kick: $thmbr($knick) was kicked by $thmbr($nick) $thmbr($1-)
  if ($away.chklog($null).event) && ($ccontrol($chan)) {
    echo -ti12c kick $specialcidwin(Awaylog) 14-â€º 04Kick: $thmbr($knick) was kicked by $thmbr($+($nick,:,$chan)) $thmbr($1-)
  }
  :skip
  if (%qryevent) && (k isin %qrytypes) {
    if ($query($knick)) {
      echo -ti12c kick $knick 14-â€º 04Kick: $thmbr($knick) was kicked by $thmbr($+($nick,:,$chan)) $thmbr($1-)
    }
    if ($query($nick)) {
      echo -ti12c kick $nick 14-â€º 04Kick: $thmbr($knick) was kicked by $thmbr($+($nick,:,$chan)) $thmbr($1-)
    }
  }
}
on &^*:quit:{
  haltdef
  var %c = $comchan($nick,0)
  while (%c) {
    var %e = $thmev($comchan($nick,%c))
    if (%e isnum 0-1) { %e = -ti12c quit $comchan($nick,%c) }
    elseif (%e == 2) { %e = -sti12c quit }
    elseif (%e == 3) {
      %e = -sti12c quit
      echo %e 14-â€º 04Quit: $thmbr($nick) $thmbr($address) $thmbr($1-)
      %e = -ti12c quit $comchan($nick,%c)
    }
    elseif (%e == 4) { goto skip }
    echo %e 14-â€º 04Quit: $thmbr($nick) $thmbr($address) $thmbr($1-)
    :skip
    dec %c
  }
  if (%qryevent) && ($query($nick)) && (q isin %qrytypes) {
    echo -ti12c quit $nick 14-â€º 04Quit: $thmbr($nick) $thmbr($address) $thmbr($1-)
  }
}
on &^*:nick:{
  haltdef
  if ($nick === $newnick) { return }
  var %c = $comchan($newnick,0),%q = $query(0)
  while (%c) {
    var %e = $thmev($comchan($newnick,%c))
    if (%e isnum 0-1) { %e = -ti12c nick $comchan($newnick,%c) }
    elseif (%e == 2) { goto skip }
    echo %e 14-â€º 11Nick: $thmbr($nick) is now known as $thmbr($newnick)
    :skip
    dec %c
  }
  if ($nick == $me) {
    echo -sti12c nick 14-â€º 11Nick: $thmbr($me) is now known as $thmbr($newnick)
  }
  if (%qryevent) {
    if ($query($newnick)) && (n isin %qrytypes) {
      echo -ti12c nick $newnick 14-â€º 11Nick: $thmbr($nick) is now known as $thmbr($newnick)
    }
    elseif ($nick == $me) && (o isin %qrytypes) {
      while (%q) {
        echo -ti12c nick $query(%q) 14-â€º 11Nick: $thmbr($nick) is now known as $thmbr($newnick)
        dec %q
      }
    }
  }
}
on &^*:topic:#:{
  haltdef
  if ($chan !ischan) { return }
  var %e = $thmev($chan)
  if (%e isnum 0-1) { %e = -ti12c topic $chan }
  elseif (%e == 2) { %e = -sti12c topic }
  elseif (%e == 3) { goto skip }
  echo %e 14-â€º 11Topic: $thmbr($nick) changes topic to $thmbr($1-)
  if ($away.chklog($null).event) && ($ccontrol($chan)) {
    echo -ti12c topic $specialcidwin(Awaylog) 14-â€º 11Topic: $thmbr($+($nick,:,$chan)) changes topic to $thmbr($1-)
  }
  :skip
}
ctcp &*:*:*:{
  if (!$istok(dcc version,$1,32)) {
    haltdef
    if ($1 == ping) { .ctcpreply $nick PING $ctime }
    if ($chan) {
      if ($chan !ischan) { return }
      var %e = $thmev($chan)
      if (%e isnum 0-1) { %e = -ti12c ctcp $chan }
      elseif (%e == 2) { %e = -sti12c ctcp }
      echo %e 14? $+ $nick $+ 14@ $+ $chan $+ 14? $1 $2-
    }
    else {
      var %e = $thm.active(ctcp,ti12c ctcp)
      echo %e 14? $+ $nick $+ 14? $1 $2-
    }
  }
}
on &^*:rawmode:#:{
  haltdef
  if ($chan !ischan) { return }
  var %e = $thmev($chan)
  if (%e isnum 0-1) { %e = -ti12c mode $chan }
  elseif (%e == 2) { %e = -sti12c mode }
  elseif (%e == 3) { goto skip }
  echo %e 14-â€º 15Mode: $thmbr($nick) sets $thmbr($1-)
  :skip
}
on &^*:invite:#:{
  haltdef
  playmircsound invite
  var %e = $thm.active(invite,ti12c invite)
  echo %e 14-â€º 03Invite: $thmbr($nick) has invited you to join $thmbr($chan)
}
on &^*:usermode:{
  haltdef
  echo -sti12c mode 14-â€º 15UserMode:14 is now $thmbr($1-)
}
on &^*:text:*:#:{
  haltdef
  playmircsound channeltext
  if ($chan !ischan) { return }
  echo -lbfmti12c normal $chan 14[ $+ $cmod($chan,$nick) $+  $+ $nick $+ 14]: $strip($1-,mo)
  if (%hlown) && ($isachl($1-)) {
    chkhlwin
    echo -mti12c normal $specialcidwin(Highlight) 14[ $+ $cmod($chan,$nick) $+  $+ $+($nick,:,$chan) $+ 14]: $strip($1-,mo)
  }
  if ($away.chklog($strip($1-))) {
    echo -mti12c normal $specialcidwin(Awaylog) 14[ $+ $cmod($chan,$nick) $+  $+ $+($nick,:,$chan) $+ 14]: $strip($1-,mo)
  }
}
on &^*:text:*:?:{
  haltdef
  playmircsound querytext
  if ($query($nick)) {
    echo -lbfmti12c normal $nick 14[ $+ $nick $+ 14]: $strip($1-,mo)
  }
  elseif (%thm.singlemsg) {
    echo -lbfmdti12c normal 14* $+ $nick $+ 14! $+ $address $+ 14* $1-
  }
  else {
    echo $thm.active(query,lbfmti12c) normal 14* $+ $nick $+ 14! $+ $address $+ 14* $strip($1-,mo)
  }
  if (%hlown) && ($isachl($1-)) {
    chkhlwin
    echo -mti12c normal $specialcidwin(Highlight) 14[ $+ $nick $+ 14]: $strip($1-,mo)
  }
}
on &^*:chat:*:{
  haltdef
  playmircsound chattext
  if (ACTION ?* iswm $1-) {
    echo -lbfmti12c normal =$nick 14: $nick $strip($mid($1-,9,-1),mo)
    if (%hlown) && ($isachl($1-)) {
      chkhlwin
      echo -mti12c normal $specialcidwin(Highlight) 14: $nick $strip($mid($1-,9,-1),mo)
    }
  }
  else {
    echo -lbfmti12c normal =$nick 14[ $+ $nick $+ 14]: $strip($1-,mo)
    if (%hlown) && ($isachl($1-)) {
      chkhlwin
      echo -mti12c normal $specialcidwin(Highlight) 14[ $+ $nick $+ 14]: $strip($1-,mo)
    }
  }
}
on &^*:action:*:#:{
  haltdef
  if ($chan !ischan) { return }
  echo -lbfmti12c action $chan 14: $cmod($chan,$nick) $+ $nick $strip($1-,mo)
  if (%hlown) && ($isachl($1-)) {
    chkhlwin
    echo -mti12c action $specialcidwin(Highlight) 14: $cmod($chan,$nick) $+ $+($nick,:,$chan) $strip($1-,mo)
  }
  if ($away.chklog($strip($1-))) {
    echo -mti12c action $specialcidwin(Awaylog) 14: $cmod($chan,$nick) $+ $+($nick,:,$chan) $strip($1-,mo)
  }
}
on &^*:action:*:?:{
  haltdef
  if (%thm.singlemsg) {
    echo -dti12c action 14: $nick $1-
  }
  elseif ($query($nick)) {
    echo -lbfmti12c action $nick 14: $nick $strip($1-,mo)
  }
  else {
    echo $thm.active(query,lbfmti12c) action 14: $nick $strip($1-,mo)
  }
  if (%hlown) && ($isachl($1-)) {
    chkhlwin
    echo -mti12c action $specialcidwin(Highlight) 14: $nick $strip($1-,mo)
  }
}
on &^*:notice:*:#:{
  haltdef
  playmircsound notice
  if ($chan !ischan) { return }
  if (%notice.sepwin) {
    notice.chkwin
    var %e = -mti12c notice $specialcidwin(Notices)
  }
  else { var %e = -mti12c notice $chan }
  echo %e 14- $+ $nick $+ 14@ $+ $chan $+ 14- $1-
}
on &^*:notice:*:?:{
  haltdef
  playmircsound notice
  if (%notice.sepwin) {
    notice.chkwin
    var %e = -mti12c notice $specialcidwin(Notices)
  }
  else {
    if ($qnetchkwlc($fulladdress,$1-)) { var %e = -mti12c notice $v1 }
    else { var %e = $thm.active(notice,mti12c notice) }
  }
  echo %e 14- $+ $nick $+ 14- $1-
}
on &^*:snotice:*:{
  haltdef
  playmircsound notice
  if (%notice.sepwin) {
    notice.chkwin
    var %e = -mti12c notice $specialcidwin(Notices)
  }
  else { var %e = -msti12c notice }
  echo %e 14- $+ $nick $+ 14- $1-
}
on &*:dns:{
  haltdef
  if ($dns(0)) {
    var %i = 1,%t = $dns(0)
    while (%i <= %t) {
      echo -ati12c info 14-â€º 14DNS:14 resolved $dns(%i) to $remtok($dns(%i).ip $dns(%i).addr,$dns(%i),1,32)
      inc %i
    }
  }
  else {
    echo -ati12c info 14-â€º 14DNS:14 unable to resolve $iif($address,$v1,$nick)
  }
}
on &*:ctcpreply:*:{
  haltdef
  if ($1 == PING) {
    if ($($+(%,pingticks.,$cid,.,$nick),2)) {
      var %tmp = $v1,%rpl = $round($calc($nnticks - %tmp),3)
      if (%rpl < 1) { %rpl = $calc(%rpl *1000) ms }
      else { %rpl = %rpl second(s) }
      unset $+(%,pingticks.,$cid,.,$nick)
    }
    else { %rpl = $duration($calc($ctime - $2)) }
    tokenize 32 PING %rpl
  }
  var %e = $thm.active(ctcp,ti12c ctcp)
  echo %e 14! $+ $nick $+ 14! $1 $2-
}
on ^&*:wallops:*:{
  haltdef
  if ($1 == *) { var %w = $specialcidwin(Wallusers),%t = $2- }
  elseif ($1 == $) { var %w = $specialcidwin(Wallops),%t = $2- }
  else { var %w = $specialcidwin(Wallops),%t = $1- }
  if (!$window(%w)) {
    window -nk0g1e %w
    thmecho %w Wall message window for $thmhl($curconserv) opened on $thmhl($longtime) $+ .
    echo %w 
  }
  echo -lmti12c wallops %w 14-â€º 14Wallop: $thmbr($nick) $strip(%t,mo)
}
raw 324:*:{
  if ($halted) { return }
  haltdef
  echo -ti12c info $2 14-â€º 14Modes in $thmbr($2) $+ :14 $3-
}
raw 329:*:{
  if ($halted) { return }
  haltdef
  echo -ti12c info $2 14-â€º 14Channel created on $thmbr($longtime($3))
}
raw 367:*:{
  if ($halted) { return }
  haltdef
  echo -ti12c info $2 14-â€º 14Ban in $thmbr($2) $+ :14 $thmbr($3) set by $thmbr($4) on $longtime($5)
}
raw 368:*:{
  if ($halted) { return }
  haltdef
  echo -ti12c info $2 14-â€º 14End of (ban list14) for $thmbr($2)
}
raw 404:*:{
  if ($halted) { return }
  haltdef
  echo -ti12c info $2 14-â€º 04Unable to send message to $thmbr($2)
}
raw 482:*:{
  if ($halted) { return }
  haltdef
  echo -ti12c info $2 14-â€º 04You're not opped on $thmbr($2)
}
raw 396:*:{
  if ($halted) { return }
  haltdef
  echo -sti12c info 14-â€º $thmbr($2) is now your hidden host
}
raw 451:*:{
  if ($halted) { return }
  haltdef
  echo -sti12c info 14-â€º 04Register first!
}
raw 311:*:{
  if ($halted) { return }
  haltdef
  if (%whois. [ $+ [ $cid ] ]) {
    echo $thm.active(whois,ti12c) whois 14â€¢â€¢ 14â€¢â€¢15â€º 14â€¢â€¢15â€ºâ€º 14(0/whois $2 $+ 14) 14â€¢â€¢15â€ºâ€ºâ€º 14â€¢â€¢15â€ºâ€ºâ€ºâ€º
  }
  else {
    set %whois. $+ $cid 1
  }
  echo $thm.active(whois,ti12c) whois 14â€¢â€¢ 14â€¢â€¢15â€º 14â€¢â€¢15â€ºâ€º 14(0/whois $2 $+ 14) 14â€¢â€¢15â€ºâ€ºâ€º 14â€¢â€¢15â€ºâ€ºâ€ºâ€º
  echo $thm.active(whois,ti12c) whois 14-â€º 15Whois14 report for $2 $thmbr($6-)
  echo $thm.active(whois,ti12c) whois 14-â€º 15Address:14 $replace( $+ $+($3,@,$4) $+ ,@,00@14,.,00.14,~,00~14,-,00-14)
}
raw 319:*:{
  if ($halted) { return }
  haltdef
  echo $thm.active(whois,ti12c) whois 14-â€º 15Channels:14 $replace( $+ $sorttok($3-,32,c) $+ ,$chr(35),0#14)
}
raw 312:*:{
  if ($halted) { return }
  haltdef
  if (%whois. [ $+ [ $cid ] ]) {
    echo $thm.active(whois,ti12c) whois 14-â€º 15Server:14 $3 $+ 00,14 $4-
  }
  else {
    echo $thm.active(whois,ti12c) whois 14-â€º 15Server:14 $3
    echo $thm.active(whois,ti12c) whois 14-â€º 15Quit:14 $asctime($ctime( $+ $4- $+ ),dddd00 $+ $chr(44) 14mmm dd yyyy00 $+ $chr(44) 14HH:nn:ss)
  }
}
raw 313:*:{
  if ($halted) { return }
  haltdef
  echo $thm.active(whois,ti12c) whois 14-â€º 15Status:14 $5-
}
raw 314:*:{
  if ($halted) { return }
  haltdef
  set %whowas. $+ $cid 1
  echo $thm.active(whois,ti12c) whois 14â€¢â€¢ 14â€¢â€¢15â€º 14â€¢â€¢15â€ºâ€º 14(0/whowas $2 $+ 14) 14â€¢â€¢15â€ºâ€ºâ€º 14â€¢â€¢15â€ºâ€ºâ€ºâ€º
  echo $thm.active(whois,ti12c) whois 14-â€º 15Whowas14 report for $thmbr($2)
  echo $thm.active(whois,ti12c) whois 14-â€º 15Address:14 $replace( $+ $+($3,@,$4) $+ ,@,0@14,.,0.14,~,0~14,-,0-14)
  echo $thm.active(whois,ti12c) whois 14-â€º 15Name:14 $6-
}
raw 301:*:{
  if ($halted) { return }
  haltdef
  if (%whois. [ $+ [ $cid ] ]) {
    echo $thm.active(whois,ti12c) whois 14-â€º 15Away:14 $3-
  }
  elseif (%whowas. [ $+ [ $cid ] ]) {
    echo $thm.active(whois,ti12c) whois 14-â€º 15Away:14 $3-
  }
  elseif ($2 != $me) && (!%away.seen. [ $+ [ $2 ] $+ ] . [ $+ [ $cid ] ]) {
    set -u300 %away.seen. [ $+ [ $2 ] $+ ] . [ $+ [ $cid ] ] 1
    echo $thm.active(away,ti12c) info 14-â€º $thmbr($2) is away:14 $3-
  }
}
raw 369:*:{
  if ($halted) { return }
  haltdef
  if (%whowas. [ $+ [ $cid ] ]) {
    echo $thm.active(whois,ti12c) whois 14â€¢â€¢ 14â€¢â€¢15â€º 14â€¢â€¢15â€ºâ€º 14(0/whowas $2 $+ 14) 14â€¢â€¢15â€ºâ€ºâ€º 14â€¢â€¢15â€ºâ€ºâ€ºâ€º
    unset %whowas. $+ $cid
  }
}
raw 330:*:{
  if ($halted) { return }
  haltdef
  echo $thm.active(whois,ti12c) whois 14-â€º 15Auth:14 $3
}
raw 338:*:{
  if ($halted) { return }
  haltdef
  echo $thm.active(whois,ti12c) whois 14-â€º 15Real IP:14 $4-
}
raw 317:*:{
  if ($halted) { return }
  haltdef
  echo $thm.active(whois,ti12c) whois 14-â€º 15Idle:14 $duration($3) $+ 00,14 signed on $duration($calc($ctime - $4)) ago
}
raw 318:*:{
  if ($halted) { return }
  haltdef
  if (%whois. [ $+ [ $cid ] ]) {
    echo $thm.active(whois,ti12c) whois 14â€¢â€¢ 14â€¢â€¢15â€º 14â€¢â€¢15â€ºâ€º 14(0/whois $2 $+ 14) 14â€¢â€¢15â€ºâ€ºâ€º 14â€¢â€¢15â€ºâ€ºâ€ºâ€º
    unset %whois. $+ $cid
  }
}
raw 331:*:{
  if ($halted) { return }
  haltdef
  if ($me ison $2) { var %e = -ti12c topic $2 }
  else { var %e = $actcid(ti12c) topic }
  echo %e 14-â€º 04No Topic set for $thmbr($2)
}
raw 332:*:{
  if ($halted) { return }
  haltdef
  if (%joinprog. [ $+ [ $2 ] $+ ] . [ $+ [ $cid ] ]) { return }
  if ($me ison $2) { var %e = -ti12c topic $2 }
  else { var %e = $actcid(ti12c) topic }
  echo %e 14-â€º 11Topic: $thmbr($3-)
}
raw 333:*:{
  if ($halted) { return }
  haltdef
  if (%joinprog. [ $+ [ $2 ] $+ ] . [ $+ [ $cid ] ]) {
    set -u100 $+(%,topicset.,$2,.,$cid) $3-
    return
  }
  if ($me ison $2) { var %e = -ti12c topic $2 }
  else { var %e = $actcid(ti12c) topic }
  echo %e 14-â€º 11Set by: $thmbr($3) 11on $thmbr($asctime($4))
}
raw 341:*:{
  if ($halted) { return }
  haltdef
  echo $actcid(ti12c) invite 14-â€º 03Invite: $thmbr($2) has been invited to join $thmbr($3)
}
raw 443:*:{
  if ($halted) { return }
  haltdef
  echo $actcid(ti12c) invite 14-â€º 04User already in channel: $thmbr($2)
}
raw 353:*:{
  if ($halted) { return }
  haltdef
  if (!%thm.hnames) || (%names.show. [ $+ [ $cid ] ]) {
    echo -sti12c info 14-â€º 14/Names: $thmbr($3) $4-
  }
}
raw 355:*:{
  if ($halted) { return }
  haltdef
  if (!%thm.hnames) || (%names.show. [ $+ [ $cid ] ]) {
    echo -sti12c info 14-â€º 14/Names: $thmbr($3) $4-
  }
}
raw 366:*:{
  if ($halted) { return }
  haltdef
  if (!%thm.hnames) || (%names.show. [ $+ [ $cid ] ]) {
    echo -sti12c info 14-â€º 14End of (/names14) list for $thmbr($2)
  }
  if (%joinprog. [ $+ [ $2 ] $+ ] . [ $+ [ $cid ] ]) {
    var %nt = $v1,%s = $iif($round($calc($nnticks - %nt),2) isnum 0-1000,$v1,<unknown>),%g = %topicset. [ $+ [ $2 ] $+ ] . [ $+ [ $cid ] ],%n = $iif($wd(%g,1,32),$v1,<unknown>),%d = $iif($wd(%g,2,32),$longtime($v1),<unknown>),%a = $iif($wd(%g,2,32),$duration($calc($ctime - $v1)),<unknown>)
    if ($me ison $2) {
      haltdef
      echo -ti12c join $2 14-â€º 03Joined: $thmbr($2)
      if ($thmif($chan($2).topic)) { echo -ti12c join $2 14-â€º 11Topic: $thmbr($chan($2).topic) }
      if ($thmif($chan($2).topic)) { echo -ti12c join $2 14-â€º 11Set by: $thmbr(%n) 11on $thmbr(%d) }
    }
  }
  unset %names.show. $+ $cid %joinprog. $+ $2 $+ . $+ $cid %topicset. $+ $2 $+ . $+ $cid
}
raw 421:*:{
  if ($halted) { return }
  haltdef
  echo $actcid(ti12c) info 14-â€º 04Invalid command: $thmbr($2)
}
raw 352:*:{
  if ($halted) { return }
  haltdef
  echo $actcid(ti12c) whois 14-â€º 14/Who:14 $6 $thmbr($+($3,@,$4)) $9-
}
raw 315:*:{
  if ($halted) { return }
  haltdef
  echo $actcid(ti12c) whois 14-â€º 14End of (/who14) for $thmbr($2)
}
raw 433:*:{
  if ($halted) { return }
  haltdef
  echo $actcid(ti12c) info 14-â€º 04Nickname in use: $thmbr($2)
}
raw 471:*:{
  if ($halted) { return }
  haltdef
  echo $actcid(ti12c) info 14-â€º 04Can't join $2 $+ :14 (full (+l)14)
}
raw 473:*:{
  if ($halted) { return }
  haltdef
  echo $actcid(ti12c) info 14-â€º 04Can't join $2 $+ :14 (invite only (+i)14)
}
raw 474:*:{
  if ($halted) { return }
  haltdef
  echo $actcid(ti12c) info 14-â€º 04Can't join $2 $+ :14 (you're banned (+b)14)
}
raw 475:*:{
  if ($halted) { return }
  haltdef
  echo $actcid(ti12c) info 14-â€º 04Can't join $2 $+ :14 (requires key (+k)14)
}
raw 477:*:{
  if ($halted) { return }
  if ($left($2,1) isin $chantypes) {
    haltdef
    echo $actcid(ti12c) info 14-â€º 04Can't join $2 $+ :14 (registered only (+r)14)
  }
}
raw 401:*:{
  if ($halted) { return }
  haltdef
  echo $actcid(ti12c) info 14-â€º 04No such nickname: $thmbr($2)
  unset $+(%,whois.,$2,.,$cid)
}
raw 406:*:{
  if ($halted) { return }
  haltdef
  echo $actcid(ti12c) info 14-â€º 04No such nickname: $thmbr($2)
}
raw 403:*:{
  if ($halted) { return }
  haltdef
  echo $actcid(ti12c) info 14-â€º 04No such channel: $thmbr($2)
}
raw 251:*:{
  if ($halted) { return }
  haltdef
  echo -sti12c info 14-â€º 14Users: $thmbr($4) $+ , Invisible: $thmbr($7) $+ , Servers: $thmbr($10)
}
raw 252:*:{
  if ($halted) { return }
  haltdef
  echo -sti12c info 14-â€º 14Operators online: $thmbr($2)
}
raw 253:*:{
  if ($halted) { return }
  haltdef
  echo -sti12c info 14-â€º 14Unknown connections: $thmbr($2)
}
raw 254:*:{
  if ($halted) { return }
  haltdef
  echo -sti12c info 14-â€º 14Channels formed: $thmbr($2)
}
raw 255:*:{
  if ($halted) { return }
  haltdef
  echo -sti12c info 14-â€º 14Local clients: $thmbr($4) on $thmbr($7) server(s)
}
raw 001:*:{
  if ($halted) { return }
  haltdef
  echo -sti12c info 14-â€º Welcome to the Internet Relay Network, $thmbr($8)
}
raw 002:*:{
  if ($halted) { return }
  haltdef
  if (!%thm.hwmsg) {
    echo -sti12c info 14-â€º 14Host:14 ( $+ $left($5,-1) $+ 14) running version ( $+ $8 $+ 14)
  }
}
raw 003:*:{
  if ($halted) { return }
  haltdef
  if (!%thm.hwmsg) {
    echo -sti12c info 14-â€º 14Server created on:14 ( $+ $6- $+ 14)
  }
}
raw 004:*:{
  if ($halted) { return }
  haltdef
  if (!%thm.hwmsg) {
    echo -sti12c info 14-â€º $thmbr($2) running on $thmbr($3) $+ , usermodes: $thmbr($4) $+ , channel modes: $thmbr($5)
  }
}
raw 005:*:{
  if ($halted) { return }
  haltdef
  if (!%thm.hwmsg) {
    echo -sti12c info 14-â€º 14Protocols supported: $thmbr($deltok($2-,-5-,32))
  }
}
raw *:*:{
  if ($halted) { return }
  if (!$istok(321 322 323,$numeric,32)) {
    haltdef
    echo $whois.echo $+ ti12c info 14-â€º $2-
  }
}
